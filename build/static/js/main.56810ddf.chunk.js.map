{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","Persons","phonebook","search","Delete","filter","person","name","toLowerCase","includes","map","key","number","type","value","onClick","PersonForm","persons","setPersons","setBannerMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","newPerson","alert","personService","then","response","concat","data","setTimeout","onChange","target","Filter","newSearch","setNewSearch","Notification","message","className","App","bannerMessage","useEffect","window","confirm","x","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56810ddf.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deleteId = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\n\nexport default { getAll, create, update, deleteId }\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport \"./App.css\"\n\nconst Persons = ({ phonebook, search, Delete }) => {\n  return phonebook\n    .filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n    .map(person => (<div key={person.name}>\n      {person.name} {person.number}\n      <button type=\"button\" value={person}\n        onClick={() => Delete(person)}>delete</button>\n    </div>))\n}\n\nconst PersonForm = ({ persons, setPersons, setBannerMessage }) => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const addName = event => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n    if (persons.map(person => person.name).includes(newPerson.name)) {\n      alert(`${newName} is already added to phonebook`)\n    } else {\n      personService.create(newPerson).then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n        setBannerMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setBannerMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <form onSubmit={addName}>\n      <div>name: <input value={newName} onChange={handleNameChange} /></div>\n      <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n      <div><button type=\"submit\">add</button></div>\n    </form>)\n}\n\nconst Filter = ({ newSearch, setNewSearch }) => {\n  const handleSearchChange = event => {\n    setNewSearch(event.target.value)\n  }\n\n  return (<div>filter shown with <input value={newSearch}\n    onChange={handleSearchChange} /></div>)\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"banner\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newSearch, setNewSearch] = useState('')\n  const [bannerMessage, setBannerMessage] = useState(null)\n\n  const Delete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deleteId(person.id).then(response => {\n        setPersons(persons.filter(x => x.id !== person.id))\n      }).catch(error => {\n        alert(`the name ${person.name} was already deleted from the server`)\n        setPersons(persons.filter(x => x.id !== person.id))\n      })\n    }\n  }\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response.data)\n    })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={bannerMessage} />\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} />\n      <h3>add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons}\n        setBannerMessage={setBannerMessage} />\n      <h3>Numbers</h3>\n      <Persons phonebook={persons} search={newSearch} Delete={Delete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}